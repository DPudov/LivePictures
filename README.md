# YCup 2024 semifinal app (DPudov)

Сегодня видеоконтент составляет 82% всего интернет-трафика и продолжает оставаться самым популярным
и востребованным форматом контента в интернете. Но всего 200 лет назад самого формата видео не
существовало.

Есть мнение, что древние римляне рисовали на стенах арен последовательные изображения колесниц или
животных, и при быстром движении зрителя мог создаваться эффект анимации. Однако археологических
подтверждений этой гипотезе нет.

Первый достоверный пример создания движущегося изображения — фенакистископ, изобретённый в 1832 году
Жозефом Плато. Устройство представляло собой диск с серией нарисованных по радиусу изображений. При
быстром вращении диска изображения начинали сменяться и «оживали» перед глазами зрителя, создавая
иллюзию движения.

Этот принцип позже был применён в зоотропе, кинескопе, телевидении, онлайн-видео,
volumetric-экранах, шоу дронов, VR/AR/XR-очках и шлемах. Но сегодня мы хотим отдать дань уважения
изобретению, которое первым подарило миру «живые картинки».

Условия

Ваша задача — разработать мобильное приложение, в котором можно нарисовать и воспроизвести
покадровую анимацию на экране смартфона.

Макеты

Для вёрстки интерфейса приложения с базовой функциональностью достаточно использовать макеты из
Figma без изменений.

Ещё вы можете взять их за основу и придумать что-нибудь своё: качественный результат принесёт
дополнительные баллы.

Основные механики

Пользовательский интерфейс приложения представлен единственным экраном, на котором находятся
следующие элементы:

Панель инструментов рисования
С помощью этих элементов управления можно выбрать карандаш, ластик или один из дополнительных
инструментов, реализованных на ваше усмотрение. Отдельная кнопка позволяет выбрать цвет рисования.

Холст
Главная рабочая область имитирует лист бумаги, на который инструментами рисования наносится
изображение — кадр анимации.

Панель управления
Слева размещены кнопки отмены и возврата действий: в случае ошибки изображение не потребуется
перерисовывать заново. В центральной группе есть кнопка, позволяющая удалить текущий кадр, кнопка,
добавляющая новый кадр, а также дополнительная кнопка, открывающая раскадровку — переход к другим,
уже добавленным кадрам анимации. Справа — кнопки управления воспроизведением анимации: старт и
остановка воспроизведения.

Соответствие иконок из макетов основным элементам управления приложения:

Карандаш

Карандаш

Ластик

Ластик

Выбор цвета

Выбор цвета
Удаление

Удаление кадра

add

Создание кадра

play pause

Запуск/пауза анимации
redo undo

Отменить/вернуть последнее действие на холсте
layouts

Открыть список всех кадров
figure

Выбор готовой фигуры

Список элементов управления приводится для понимания ожидаемой функциональности, не все из них
обязательны к реализации.

Требования

Весь UI разрабатывается самостоятельно без использования сторонних библиотек. Допускается
использование стандартных библиотек (AppCompat, MaterialDesign, JetpackCompose, ...)
Приложение должно поддерживать API 24+.
Необходимо реализовать следующие компоненты:

Холст — рабочую область для рисования с «бумажным» фоном (картинку необходимо взять из макетов),
распознающую действия рисования пользователя. На холстах второго и последующих кадров должен
отображаться полупрозрачный эскиз соответствующего предыдущего кадра. При этом такой эскиз не должен
являться частью рисунка нового кадра.
Инструменты рисования: карандаш, который оставляет на холсте следы выбранного цвета, следуя за
пальцем, и ластик, который стирает эти следы с холста, также следуя за движением пальца.
Контроль изменения цвета рисования с возможностью выбора как минимум из 3 разных цветов.
Кнопки отмены и возврата последнего действия. Для карандаша и ластика под действием подразумевается
непрерывная линия, нанесённая на холст без отпускания пальца.
Кнопку создания следующего кадра. При её нажатии текущий кадр сохраняется для последующего
воспроизведения, а на экране появляется чистый холст.
Кнопку удаления текущего кадра, которая возвращает пользователя к рисованию предыдущего кадра.
Запуск и остановку воспроизведения анимации. При старте воспроизведения необходимо выключить или
скрыть все элементы управления, кроме холста, на котором воспроизводятся кадры, а также кнопки
остановки воспроизведения. Разумеется, любое изменение изображения во время воспроизведения
запрещено. Анимация должна воспроизводиться зацикленно, а при остановке анимации необходимо
вернуться к последнему кадру.
Количество допустимых кадров не должно ограничиваться в рамках допустимых значений Integer.

Приложение должно корректно отображаться как в светлой, так и тёмной теме.

Дополнительная функциональность

Обратите внимание: дополнительная функциональность указана в порядке убывания приоритета. За
выполнение первого пункта из дополнительных требований можно получить значительно больше баллов.

Генерация и добавление N случайных кадров. Содержание холстов отдаётся на усмотрение участников — к
примеру, это может быть генерация различных геометрических фигур или перемещение одной готовой
фигуры. Изображения на сгенерированных кадрах должны явно отличаться друг от друга. Количество
кадров должно задаваться вводом числа N с размерностью Integer в интерфейсе приложения
непосредственно перед генерацией. Сгенерированные кадры добавляются за последним кадром и ведут себя
идентично кадрам, добавленным вручную: допускается удаление кадров, изменение последнего кадра и т.
д.
Панель либо экран с раскадровкой для переключения между добавленными кадрами. Также допускается
реализовать переключение кадров свайпами влево и вправо от края экрана.
Кнопка дублирования кадра — создаёт новый кадр и копирует на него всё содержимое текущего кадра.
Возможность удаления всех кадров сразу.
Настройка скорости воспроизведения анимации.
Экспорт анимации в GIF с возможностью поделиться файлом. Можно использовать стороннюю библиотеку
Выбор кастомного любого цвета рисования из RGB-палитры.
Инструмент рисования геометрических фигур, прямых линий или кривых Безье (минимум 3 разных фигур), а
также взаимодействие с фигурами: увеличение растягиванием или pinch to zoom, перемещение, поворот.
Изменение толщины карандаша и ластика.
Реализация стека действий для многократной отмены или возврата.
Увеличение холста при помощи жеста pinch-to-zoom для точной прорисовки деталей изображения.
Иконка приложения.
Полноценная поддержка светлой и тёмной тем.
Формат ввода
В качестве ответа вы должны прислать файл zip с любым названием латинскими буквами, в котором будут:

файл с именем Android (указывает на платформу);
собранный APK-файл вашего приложения, подходящий для установки на смартфон;
plain-text-файл с именем source.url, содержащий одну строку: ссылку на репозиторий с решением (
GitHub, Bitbucket или GitLab).
APK-файл должен находиться в корне архива. При отсутствии кода или ссылки на исходный код либо
собранного APK-файла решение может быть оценено в 0 баллов.
